# Файлы

Запросы для управленя файлами в индивидуальном и групповом хранилище пользователя.

## POST original

Добавление файла электронной сборки или чертежа изделия. Запрос отправляется в виде HTML-формы. Тип содержимого запроса кодируется согласно ```multipart/form-data```

| Метод и URI              | ```POST mpu-cloud.ru/files/original``` |
|--------------------------|----------------------------------------|
| Требуется аутентификация | Да                                     |
| Формат данных            | JSON                                   |

### Поля формы

| Параметр | Описание       | Тип данных | Ограничения                                                                                                           |
|----------|----------------|------------|-----------------------------------------------------------------------------------------------------------------------|
| file     | Исходный файл  | File       | Формат файла: ```"*.pdf"```,```"*.stp"```, ```"*.step"```, ```"*.igs"```, ```"*.iges"```, ```"*.jt"```, ```"*.c3d"``` |
| title    | Название файла | String     | до 50 символов                                                                                                        |
| desc     | Описание       | String     | до 200 символов                                                                                                       |

### Статусы
| Код                 | Описание                                                         |
|---------------------|------------------------------------------------------------------|
| ✅ 200 (OK)          | Файл добавлен                                                    |
| ⛔️ 500 (Bad request) | Недопустимый файл, или отсуствует файл, или отсуствуют аргументы |

### Данные

| Параметр | Описание            | Тип данных |
|----------|---------------------|------------|
| file_id  | Идентификатор файла | Number     |

## GET original/:id

Получить файл из индивидуального или группового хранилища. Если файл находится в группе, необходимо указать ее идентификатор.

| Метод и URI              | ```GET mpu-cloud.ru/files/original/:id``` |
|--------------------------|-------------------------------------------|
| Требуется аутентификация | Да                                        |
| Формат данных            | File                                      |

### Аргументы

| Параметр  | Описание             | Тип данных | Ограничения    |
|-----------|----------------------|------------|----------------|
| ```:id``` | Идентификатор файла  | Number     | Нет            |
| groupId   | Идентификатор группы | Number     | Не обязательно |


### Статусы

| Код                 | Описание                   |
|---------------------|----------------------------|
| ✅ 200 (OK)          | Файл получен               |
| ⛔️ 500 (Bad request) | Файл или группа не найдены |

### Данные

Возвращает файл

## DELETE original/:id

Удалить файл из индивидуального или пользовательского хранилмща. Если файл находится в группе, необходимо указать ее идентификатор. Пользователь, который выполняет запрос, может удалять чужие файлы, только если обладает правами ```"ADMIN"```, ```"MODERATOR"``` в соотвествующей группе.

| Метод и URI              | ```DELETE mpu-cloud.ru/files/original/:id``` |
|--------------------------|----------------------------------------------|
| Требуется аутентификация | Да                                           |
| Формат данных            | Нет данных                                   |

### Аргументы

| Параметр  | Описание             | Тип данных | Ограничения    |
|-----------|----------------------|------------|----------------|
| ```:id``` | Идентификатор файла  | Number     | Нет            |
| groupId   | Идентификатор группы | Number     | Не обязательно |

### Статусы

| Код        | Описание    |
|------------|-------------|
| ✅ 200 (OK) | Файл удален |

### Данные

| Параметр | Описание                       | Тип данных |
|----------|--------------------------------|------------|
| file_id  | Идентификатор удаленного файла | Number     |